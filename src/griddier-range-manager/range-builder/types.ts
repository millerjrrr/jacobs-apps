export const handsArray = [
  "AA",
  "AKs",
  "AQs",
  "AJs",
  "ATs",
  "A9s",
  "A8s",
  "A7s",
  "A6s",
  "A5s",
  "A4s",
  "A3s",
  "A2s",
  "AKo",
  "KK",
  "KQs",
  "KJs",
  "KTs",
  "K9s",
  "K8s",
  "K7s",
  "K6s",
  "K5s",
  "K4s",
  "K3s",
  "K2s",
  "AQo",
  "KQo",
  "QQ",
  "QJs",
  "QTs",
  "Q9s",
  "Q8s",
  "Q7s",
  "Q6s",
  "Q5s",
  "Q4s",
  "Q3s",
  "Q2s",
  "AJo",
  "KJo",
  "QJo",
  "JJ",
  "JTs",
  "J9s",
  "J8s",
  "J7s",
  "J6s",
  "J5s",
  "J4s",
  "J3s",
  "J2s",
  "ATo",
  "KTo",
  "QTo",
  "JTo",
  "TT",
  "T9s",
  "T8s",
  "T7s",
  "T6s",
  "T5s",
  "T4s",
  "T3s",
  "T2s",
  "A9o",
  "K9o",
  "Q9o",
  "J9o",
  "T9o",
  "99",
  "98s",
  "97s",
  "96s",
  "95s",
  "94s",
  "93s",
  "92s",
  "A8o",
  "K8o",
  "Q8o",
  "J8o",
  "T8o",
  "98o",
  "88",
  "87s",
  "86s",
  "85s",
  "84s",
  "83s",
  "82s",
  "A7o",
  "K7o",
  "Q7o",
  "J7o",
  "T7o",
  "97o",
  "87o",
  "77",
  "76s",
  "75s",
  "74s",
  "73s",
  "72s",
  "A6o",
  "K6o",
  "Q6o",
  "J6o",
  "T6o",
  "96o",
  "86o",
  "76o",
  "66",
  "65s",
  "64s",
  "63s",
  "62s",
  "A5o",
  "K5o",
  "Q5o",
  "J5o",
  "T5o",
  "95o",
  "85o",
  "75o",
  "65o",
  "55",
  "54s",
  "53s",
  "52s",
  "A4o",
  "K4o",
  "Q4o",
  "J4o",
  "T4o",
  "94o",
  "84o",
  "74o",
  "64o",
  "54o",
  "44",
  "43s",
  "42s",
  "A3o",
  "K3o",
  "Q3o",
  "J3o",
  "T3o",
  "93o",
  "83o",
  "73o",
  "63o",
  "53o",
  "43o",
  "33",
  "32s",
  "A2o",
  "K2o",
  "Q2o",
  "J2o",
  "T2o",
  "92o",
  "82o",
  "72o",
  "62o",
  "52o",
  "42o",
  "32o",
  "22",
];

export const orderedHandsArray = [
  "AA",
  "KK",
  "QQ",
  "JJ",
  "TT",
  "99",
  "88",
  "77",
  "66",
  "55",
  "44",
  "33",
  "22",
  "AKs",
  "AQs",
  "AJs",
  "ATs",
  "A9s",
  "A8s",
  "A7s",
  "A6s",
  "A5s",
  "A4s",
  "A3s",
  "A2s",
  "KQs",
  "KJs",
  "KTs",
  "K9s",
  "K8s",
  "K7s",
  "K6s",
  "K5s",
  "K4s",
  "K3s",
  "K2s",
  "QJs",
  "QTs",
  "Q9s",
  "Q8s",
  "Q7s",
  "Q6s",
  "Q5s",
  "Q4s",
  "Q3s",
  "Q2s",
  "JTs",
  "J9s",
  "J8s",
  "J7s",
  "J6s",
  "J5s",
  "J4s",
  "J3s",
  "J2s",
  "T9s",
  "T8s",
  "T7s",
  "T6s",
  "T5s",
  "T4s",
  "T3s",
  "T2s",
  "98s",
  "97s",
  "96s",
  "95s",
  "94s",
  "93s",
  "92s",
  "87s",
  "86s",
  "85s",
  "84s",
  "83s",
  "82s",
  "76s",
  "75s",
  "74s",
  "73s",
  "72s",
  "65s",
  "64s",
  "63s",
  "62s",
  "54s",
  "53s",
  "52s",
  "43s",
  "42s",
  "32s",
  "AKo",
  "AQo",
  "AJo",
  "ATo",
  "A9o",
  "A8o",
  "A7o",
  "A6o",
  "A5o",
  "A4o",
  "A3o",
  "A2o",
  "KQo",
  "KJo",
  "KTo",
  "K9o",
  "K8o",
  "K7o",
  "K6o",
  "K5o",
  "K4o",
  "K3o",
  "K2o",
  "QJo",
  "QTo",
  "JTo",
  "J9o",
  "T9o",
  "Q9o",
  "J8o",
  "T8o",
  "98o",
  "Q8o",
  "97o",
  "87o",
  "76o",
  "86o",
  "65o",
  "54o",
  "Q7o",
  "Q6o",
  "Q5o",
  "Q4o",
  "Q3o",
  "Q2o",
  "J7o",
  "J6o",
  "J5o",
  "J4o",
  "J3o",
  "J2o",
  "T7o",
  "T6o",
  "T5o",
  "T4o",
  "T3o",
  "T2o",
  "96o",
  "95o",
  "94o",
  "93o",
  "92o",
  "85o",
  "84o",
  "83o",
  "82o",
  "75o",
  "74o",
  "73o",
  "72o",
  "64o",
  "63o",
  "62o",
  "53o",
  "52o",
  "43o",
  "42o",
  "32o",
];

// Create a type that represents any valid hand
export type Hand = (typeof orderedHandsArray)[number];

// Map each hand to its rank (number)
const rankMap: Record<Hand, number> = orderedHandsArray.reduce(
  (map, hand, index) => {
    map[hand] = index;
    return map;
  },
  {} as Record<Hand, number>
);

// Sort function that only accepts valid hands
export const sortHands = (subset: Hand[]): Hand[] =>
  subset.sort((a, b) => rankMap[a] - rankMap[b]);

export type PokerHand = (typeof handsArray)[number];
export type ValidFraction = 0 | 1 | 2 | 3 | 4;

export type HandActions = {
  allin: ValidFraction;
  raise: ValidFraction;
  call: ValidFraction;
  prior: ValidFraction;
  fold?: ValidFraction;
};

export type HandsObject = Record<PokerHand, HandActions>;

export type GridDataEntry = {
  hands: HandsObject;
  featured: PokerHand[];
};

export interface ActionCombo {
  allin: ValidFraction;
  raise: ValidFraction;
  call: ValidFraction;
}
export type ActionName = "AllIn" | "Raise" | "Call" | "Fold";

export interface DueLevelPair {
  due: StrictDateString;
  level: number;
}

export type IndividualHandDrillingData = Record<PokerHand, DueLevelPair>;

export const positions = ["LJ", "HJ", "CO", "BU", "SB", "BB"] as const;
export type PositionName = (typeof positions)[number];
export const vsActions = ["R", "3B", "4B", "R+3B"];
export type VsActionFilter = (typeof vsActions)[number];

export type Filter = {
  activated: boolean;
  pos: PositionName | "";
  action: VsActionFilter | "";
};

export type NavigationParamList = {
  Trainer: undefined;
  "Ranges List": undefined;
  Extras: undefined;
};

type Year = `${number}${number}${number}${number}`;
type Month =
  | "01"
  | "02"
  | "03"
  | "04"
  | "05"
  | "06"
  | "07"
  | "08"
  | "09"
  | "10"
  | "11"
  | "12";
type Day =
  | "01"
  | "02"
  | "03"
  | "04"
  | "05"
  | "06"
  | "07"
  | "08"
  | "09"
  | "10"
  | "11"
  | "12"
  | "13"
  | "14"
  | "15"
  | "16"
  | "17"
  | "18"
  | "19"
  | "20"
  | "21"
  | "22"
  | "23"
  | "24"
  | "25"
  | "26"
  | "27"
  | "28"
  | "29"
  | "30"
  | "31";

export type StrictDateString = `${Year}-${Month}-${Day}`;

export type Pos =
  | "top"
  | "bottom"
  | "left-top"
  | "left-bottom"
  | "right-top"
  | "right-bottom";

export const stackSizes = [50, 100, 150, 200] as const;
export type StackSize = (typeof stackSizes)[number];

export type SpotInfo = {
  hero: PositionName;
  vsAction: VsActionFilter;
  stacks: StackSize;
  raiseSize: number;
  LJ?: { bet: number; cards: boolean };
  HJ?: { bet: number; cards: boolean };
  CO?: { bet: number; cards: boolean };
  BU?: { bet: number; cards: boolean };
  SB?: { bet: number; cards: boolean };
  BB?: { bet: number; cards: boolean };
};

export type RangesStackParamsList = {
  "My Ranges": undefined;
  "Ranges Shop": undefined;
};
